# Digital Sanctuary - PWA Project Rules

## PROJECT OVERVIEW
A subscription-based "Digital Sanctuary" for an artist (Writer/Musician) to share exclusive content (Literature, Music, Vlogs) with a close circle of followers. Built with Next.js 14 (App Router), Supabase, Tailwind CSS, and Framer Motion.

## DESIGN SYSTEM: "Clean & Warm Luxury"

### Atmosphere
- Quiet, calm, expensive but approachable
- "Spa for the soul" aesthetic

### Color Palette
- Warm whites: milk/cream tones
- Soft sand/beige
- Light grays
- Accents: muted bronze/gold

### Typography
- **Headings**: Playfair Display
- **Body**: Merriweather (default), Cormorant Garamond (Elegant), Inter (Modern), Montserrat (Fashion), Courier Prime (Retro)
- **UI**: Inter

## CORE FEATURES

### 1. AUTHENTICATION & DATABASE (Supabase)
- **Users table**: id, email, full_name, is_premium (boolean), subscription_date
- **Content table**: title, type (text/audio/video), url, is_public (boolean), created_at
- **Comments table**: user_id, content_id, text, is_hidden_shadowban (boolean)
- **RLS Policies**: STRICT - Users can only read content if is_premium = true

### 2. CONTENT PROTECTION (CRITICAL)
- Global CSS: `user-select: none` on all content
- Global JS: Disable right-click context menu
- Media Players: Custom Audio/Video components (hide source URL, no download button)
- Background Audio: Use Media Session API for background playback

### 3. PAYWALL & NAVIGATION
- Homepage: Atmospheric Landing Page
- Content Feed: Blurred placeholders for non-premium users
- Payment: Redirect to placeholder `NEXT_PUBLIC_DIGISTORE_LINK`

### 4. SOCIAL & PRIVACY
- Comments with Shadow Ban logic
- HIDE subscriber counts
- "Heatmap Reactions": Click triggers "Sparkle" animation

### 5. READER EXPERIENCE & ACCESSIBILITY
- Reader Settings modal (gear icon)
- Font Size: Normal, Large, Extra Large
- Font Style Options:
  1. "Classic" (Merriweather - Default)
  2. "Elegant" (Cormorant Garamond - Sharp Serif)
  3. "Modern" (Inter - Clean Sans)
  4. "Fashion" (Montserrat - Wide Sans)
  5. "Retro" (Courier Prime - Typewriter)
- Theme: Light (Cream), Sepia (Warm), Dark (Charcoal)
- Persist all preferences in localStorage

## TECHNICAL STACK
- Next.js 14 with App Router
- Supabase (Auth + Database)
- Tailwind CSS
- shadcn/ui components
- lucide-react icons
- framer-motion animations
- PWA support (installable on iOS/Android)

## CODE STYLE GUIDELINES
- Use TypeScript for type safety
- Follow Next.js 14 App Router patterns
- Use server components by default, client components when needed
- Implement proper error boundaries
- Ensure accessibility (a11y) standards
- Optimize for performance and SEO
- Use environment variables for sensitive data

## IMPORTANT NOTES
- Content protection is CRITICAL - implement all protection measures
- Subscription status determines content access
- Reader preferences should persist across sessions
- Maintain the "warm luxury" aesthetic throughout
- Ensure smooth, spa-like user experience

